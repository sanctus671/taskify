"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1620],{1620:function(y,c,i){i.r(c),i.d(c,{AddQuestPageModule:function(){return P}});var s=i(3144),l=i(5671),h=i(9808),g=i(4182),n=i(4881),f=i(1e3),e=i(8433),Z=i(7020),q=i(4303),A=i(8741);function m(t,r){1&t&&e._UZ(0,"ion-spinner")}var C=[{path:"",component:function(){var t=function(){function r(a,o,d,u,p,Q,T){var _=this;(0,l.Z)(this,r),this.authenticationService=a,this.questService=o,this.navController=d,this.alertCtrl=u,this.loadingController=p,this.alertController=Q,this.statusBar=T,this.quest={},this.authenticationService.getJoinedSquad().then(function(b){_.quest.squad_id=b})}return(0,s.Z)(r,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.statusBar.backgroundColorByHexString("#bb55d0")}},{key:"ionViewWillLeave",value:function(){this.statusBar.backgroundColorByHexString("#000000")}},{key:"add",value:function(){var o=this;this.quest.loading=!0,this.questService.createQuest(this.quest).then(function(){o.authenticationService.retreiveUserData(),o.quest.loading=!1,o.navController.back()}).catch(function(){o.quest.loading=!1,o.alertCtrl.create({header:"Error",message:"There was an error creating this quest. Please try again.",buttons:[{text:"Dismiss",role:"cancel",handler:function(p){}}]}).then(function(u){u.present()})})}}]),r}();return t.\u0275fac=function(a){return new(a||t)(e.Y36(Z.$),e.Y36(q.T),e.Y36(n.SH),e.Y36(n.Br),e.Y36(n.HT),e.Y36(n.Br),e.Y36(A.A))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-quest"]],decls:28,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/add-quests"],[1,"add-quest"],[1,"add-quest__form"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["clearInput","","type","number",3,"ngModel","ngModelChange"],[1,"add-quest__form__checkbox"],["slot","end",3,"ngModel","ngModelChange"],[1,"add-quest-footer"],["color","primary","expand","full","shape","round",1,"add-quest-footer__button",3,"disabled","click"],[4,"ngIf"]],template:function(a,o){1&a&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Create Quest"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content",3),e.TgZ(7,"ion-list",4),e.TgZ(8,"ion-item"),e.TgZ(9,"ion-label",5),e._uU(10,"Quest Name"),e.qZA(),e.TgZ(11,"ion-input",6),e.NdJ("ngModelChange",function(u){return o.quest.name=u}),e.qZA(),e.qZA(),e.TgZ(12,"ion-item"),e.TgZ(13,"ion-label",5),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"ion-textarea",7),e.NdJ("ngModelChange",function(u){return o.quest.description=u}),e.qZA(),e.qZA(),e.TgZ(16,"ion-item"),e.TgZ(17,"ion-label",5),e._uU(18,"Reward (coins)"),e.qZA(),e.TgZ(19,"ion-input",8),e.NdJ("ngModelChange",function(u){return o.quest.reward=u}),e.qZA(),e.qZA(),e.TgZ(20,"ion-item",9),e.TgZ(21,"ion-label"),e._uU(22,"Recurring (i.e. can be claimed more than once)"),e.qZA(),e.TgZ(23,"ion-checkbox",10),e.NdJ("ngModelChange",function(u){return o.quest.recurring=u}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"ion-footer",11),e.TgZ(25,"ion-button",12),e.NdJ("click",function(){return o.add()}),e._uU(26," Create "),e.YNc(27,m,1,0,"ion-spinner",13),e.qZA(),e.qZA()),2&a&&(e.xp6(11),e.Q6J("ngModel",o.quest.name),e.xp6(4),e.Q6J("ngModel",o.quest.description),e.xp6(4),e.Q6J("ngModel",o.quest.reward),e.xp6(4),e.Q6J("ngModel",o.quest.recurring),e.xp6(2),e.Q6J("disabled",o.quest.loading),e.xp6(2),e.Q6J("ngIf",o.quest.loading))},directives:[n.Gu,n.sr,n.Sm,n.oU,n.cs,n.wd,n.W2,n.q_,n.Ie,n.Q$,n.pK,n.j9,g.JJ,g.On,n.g2,n.as,n.nz,n.w,n.fr,n.YG,h.O5,n.PQ],styles:[".add-quest[_ngcontent-%COMP%]   .add-quest__form__checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.add-quest[_ngcontent-%COMP%]   .add-quest__form__checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap}.add-quest-footer[_ngcontent-%COMP%]{background-color:#000}.add-quest-footer[_ngcontent-%COMP%]:before{display:none}.add-quest-footer[_ngcontent-%COMP%]   .add-quest-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),t}()}],v=function(){var t=(0,s.Z)(function r(){(0,l.Z)(this,r)});return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.Bz.forChild(C)],f.Bz]}),t}(),P=function(){var t=(0,s.Z)(function r(){(0,l.Z)(this,r)});return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.ez,g.u5,n.Pc,v]]}),t}()}}]);