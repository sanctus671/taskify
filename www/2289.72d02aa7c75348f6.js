"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2289],{2289:function(yt,$,O){O.r($),O.d($,{ion_virtual_scroll:function(){return z}});var R=O(5861),X=O(5671),q=O(3144),tt=O(7762),H=O(1308),et=O(5730);function P(){P=function(){return v};var v={},r=Object.prototype,e=r.hasOwnProperty,i=Object.defineProperty||function(a,t,n){a[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",g=o.toStringTag||"@@toStringTag";function f(a,t,n){return Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),a[t]}try{f({},"")}catch(a){f=function(n,u,c){return n[u]=c}}function p(a,t,n,u){var h=Object.create((t&&t.prototype instanceof I?t:I).prototype),y=new F(u||[]);return i(h,"_invoke",{value:gt(a,n,y)}),h}function w(a,t,n){try{return{type:"normal",arg:a.call(t,n)}}catch(u){return{type:"throw",arg:u}}}v.wrap=p;var d={};function I(){}function k(){}function L(){}var E={};f(E,s,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(B([])));b&&b!==r&&e.call(b,s)&&(E=b);var m=L.prototype=I.prototype=Object.create(E);function x(a){["next","throw","return"].forEach(function(t){f(a,t,function(n){return this._invoke(t,n)})})}function D(a,t){function n(c,h,y,S){var C=w(a[c],a,h);if("throw"!==C.type){var N=C.arg,T=N.value;return T&&"object"==typeof T&&e.call(T,"__await")?t.resolve(T.__await).then(function(V){n("next",V,y,S)},function(V){n("throw",V,y,S)}):t.resolve(T).then(function(V){N.value=V,y(N)},function(V){return n("throw",V,y,S)})}S(C.arg)}var u;i(this,"_invoke",{value:function(h,y){function S(){return new t(function(C,N){n(h,y,C,N)})}return u=u?u.then(S,S):S()}})}function gt(a,t,n){var u="suspendedStart";return function(c,h){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===c)throw h;return{value:void 0,done:!0}}for(n.method=c,n.arg=h;;){var y=n.delegate;if(y){var S=J(y,n);if(S){if(S===d)continue;return S}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===u)throw u="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);u="executing";var C=w(a,t,n);if("normal"===C.type){if(u=n.done?"completed":"suspendedYield",C.arg===d)continue;return{value:C.arg,done:n.done}}"throw"===C.type&&(u="completed",n.method="throw",n.arg=C.arg)}}}function J(a,t){var n=t.method,u=a.iterator[n];if(void 0===u)return t.delegate=null,"throw"===n&&a.iterator.return&&(t.method="return",t.arg=void 0,J(a,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var c=w(u,a.iterator,t.arg);if("throw"===c.type)return t.method="throw",t.arg=c.arg,t.delegate=null,d;var h=c.arg;return h?h.done?(t[a.resultName]=h.value,t.next=a.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):h:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function mt(a){var t={tryLoc:a[0]};1 in a&&(t.catchLoc=a[1]),2 in a&&(t.finallyLoc=a[2],t.afterLoc=a[3]),this.tryEntries.push(t)}function W(a){var t=a.completion||{};t.type="normal",delete t.arg,a.completion=t}function F(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(mt,this),this.reset(!0)}function B(a){if(a){var t=a[s];if(t)return t.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var n=-1,u=function c(){for(;++n<a.length;)if(e.call(a,n))return c.value=a[n],c.done=!1,c;return c.value=void 0,c.done=!0,c};return u.next=u}}return{next:Q}}function Q(){return{value:void 0,done:!0}}return k.prototype=L,i(m,"constructor",{value:L,configurable:!0}),i(L,"constructor",{value:k,configurable:!0}),k.displayName=f(L,g,"GeneratorFunction"),v.isGeneratorFunction=function(a){var t="function"==typeof a&&a.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},v.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,L):(a.__proto__=L,f(a,g,"GeneratorFunction")),a.prototype=Object.create(m),a},v.awrap=function(a){return{__await:a}},x(D.prototype),f(D.prototype,l,function(){return this}),v.AsyncIterator=D,v.async=function(a,t,n,u,c){void 0===c&&(c=Promise);var h=new D(p(a,t,n,u),c);return v.isGeneratorFunction(t)?h:h.next().then(function(y){return y.done?y.value:h.next()})},x(m),f(m,g,"Generator"),f(m,s,function(){return this}),f(m,"toString",function(){return"[object Generator]"}),v.keys=function(a){var t=Object(a),n=[];for(var u in t)n.push(u);return n.reverse(),function c(){for(;n.length;){var h=n.pop();if(h in t)return c.value=h,c.done=!1,c}return c.done=!0,c}},v.values=B,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function u(N,T){return y.type="throw",y.arg=t,n.next=N,T&&(n.method="next",n.arg=void 0),!!T}for(var c=this.tryEntries.length-1;c>=0;--c){var h=this.tryEntries[c],y=h.completion;if("root"===h.tryLoc)return u("end");if(h.tryLoc<=this.prev){var S=e.call(h,"catchLoc"),C=e.call(h,"finallyLoc");if(S&&C){if(this.prev<h.catchLoc)return u(h.catchLoc,!0);if(this.prev<h.finallyLoc)return u(h.finallyLoc)}else if(S){if(this.prev<h.catchLoc)return u(h.catchLoc,!0)}else{if(!C)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return u(h.finallyLoc)}}}},abrupt:function(t,n){for(var u=this.tryEntries.length-1;u>=0;--u){var c=this.tryEntries[u];if(c.tryLoc<=this.prev&&e.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var h=c;break}}h&&("break"===t||"continue"===t)&&h.tryLoc<=n&&n<=h.finallyLoc&&(h=null);var y=h?h.completion:{};return y.type=t,y.arg=n,h?(this.method="next",this.next=h.finallyLoc,d):this.complete(y)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var u=this.tryEntries[n];if(u.finallyLoc===t)return this.complete(u.completion,u.afterLoc),W(u),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var u=this.tryEntries[n];if(u.tryLoc===t){var c=u.completion;if("throw"===c.type){var h=c.arg;W(u)}return h}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,u){return this.delegate={iterator:B(t),resultName:n,nextLoc:u},"next"===this.method&&(this.arg=void 0),d}},v}var U="item",M="header",j="footer",it=function(r,e){var i=at(r,e);return i&&null!==r.ownerDocument?r.ownerDocument.importNode(i.content,!0).children[0]:null},at=function(r,e){switch(e){case U:return r.querySelector("template:not([name])");case M:return r.querySelector("template[name=header]");case j:return r.querySelector("template[name=footer]")}},ut=function(r,e){return 0===e?0:e===(r.length>0?r[r.length-1].index:0)+1?r.length:r.findIndex(function(o){return o.index===e})},ht=function(r,e,i){if(0===i&&e.length>=r.length)return e;for(var o=0;o<e.length;o++)r[o+i]=e[o];return r},Z=function(r,e,i,o,s,l,g,f,p,w,d,I){for(var k=[],L=I+d,E=d;E<L;E++){var _=r[E];if(s){var b=s(_,E,r);null!=b&&k.push({i:w++,type:M,value:b,index:E,height:i?i(b,E):g,reads:i?0:2,visible:!!i})}if(k.push({i:w++,type:U,value:_,index:E,height:e?e(_,E):p,reads:e?0:2,visible:!!e}),l){var m=l(_,E,r);null!=m&&k.push({i:w++,type:j,value:m,index:E,height:o?o(m,E):f,reads:o?0:2,visible:!!o})}}return k},ct=function(r,e,i){for(var o=r[i],s=i;s<r.length;s++)r[s]=o,o+=e[s].height;return o},ft=function(r,e){if(!r)return new Uint32Array(e);if(r.length===e)return r;if(e>r.length){var i=new Uint32Array(e);return i.set(r),i}return r.subarray(0,e)},z=function(){function v(r){var e=this;(0,X.Z)(this,v),(0,H.r)(this,r),this.range={offset:0,length:0},this.viewportHeight=0,this.cells=[],this.virtualDom=[],this.isEnabled=!1,this.viewportOffset=0,this.currentScrollTop=0,this.indexDirty=0,this.lastItemLen=0,this.totalHeight=0,this.approxItemHeight=45,this.approxHeaderHeight=30,this.approxFooterHeight=30,this.onScroll=function(){e.updateVirtualScroll()}}return(0,q.Z)(v,[{key:"itemsChanged",value:function(){this.calcCells(),this.updateVirtualScroll()}},{key:"componentWillLoad",value:function(){console.warn("[Deprecation Warning]: ion-virtual-scroll has been deprecated and will be removed in Ionic Framework v7.0. See https://ionicframework.com/docs/angular/virtual-scroll for migration steps.")}},{key:"connectedCallback",value:(r=(0,R.Z)(P().mark(function i(){var o;return P().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=this.el.closest("ion-content")){l.next=4;break}return console.error("<ion-virtual-scroll> must be used inside an <ion-content>"),l.abrupt("return");case 4:return l.next=6,o.getScrollElement();case 6:this.scrollEl=l.sent,this.contentEl=o,this.calcCells(),this.updateState();case 10:case"end":return l.stop()}},i,this)})),function e(){return r.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){this.updateState()}},{key:"disconnectedCallback",value:function(){this.scrollEl=void 0}},{key:"onResize",value:function(){this.calcCells(),this.updateVirtualScroll()}},{key:"positionForItem",value:function(e){return Promise.resolve(function(r,e,i){var o=e.find(function(s){return s.type===U&&s.index===r});return o?i[o.i]:-1}(e,this.cells,this.getHeightIndex()))}},{key:"checkRange",value:function(){var r=(0,R.Z)(P().mark(function i(o){var s,l,g,f,p=arguments;return P().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=p.length>1&&void 0!==p[1]?p[1]:-1,this.items){d.next=3;break}return d.abrupt("return");case 3:l=-1===s?this.items.length-o:s,g=ut(this.cells,o),f=Z(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,g,o,l),this.cells=ht(this.cells,f,g),this.lastItemLen=this.items.length,this.indexDirty=Math.max(o-1,0),this.scheduleUpdate();case 10:case"end":return d.stop()}},i,this)}));return function e(i){return r.apply(this,arguments)}}()},{key:"checkEnd",value:function(){var r=(0,R.Z)(P().mark(function i(){return P().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.items&&this.checkRange(this.lastItemLen);case 1:case"end":return s.stop()}},i,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"updateVirtualScroll",value:function(){!this.isEnabled||!this.scrollEl||(this.timerUpdate&&(clearTimeout(this.timerUpdate),this.timerUpdate=void 0),(0,H.f)(this.readVS.bind(this)),(0,H.c)(this.writeVS.bind(this)))}},{key:"readVS",value:function(){for(var e=this.contentEl,i=this.scrollEl,s=0,l=this.el;null!==l&&l!==e;)s+=l.offsetTop,l=l.offsetParent;this.viewportOffset=s,i&&(this.viewportHeight=i.offsetHeight,this.currentScrollTop=i.scrollTop)}},{key:"writeVS",value:function(){var e=this.indexDirty,o=function(r,e,i){return{top:Math.max(r-100,0),bottom:r+e+100}}(this.currentScrollTop-this.viewportOffset,this.viewportHeight),s=this.getHeightIndex(),l=function(r,e,i){for(var o=e.top,s=e.bottom,l=0;l<r.length&&!(r[l]>o);l++);for(var g=Math.max(l-2-1,0);l<r.length&&!(r[l]>=s);l++);return{offset:g,length:Math.min(l+2,r.length)-g}}(s,o),g=function(r,e,i){return r<=i.offset+i.length||e.offset!==i.offset||e.length!==i.length}(e,this.range,l);!g||(this.range=l,function(r,e,i,o){var l,s=(0,tt.Z)(r);try{for(s.s();!(l=s.n()).done;){var g=l.value;g.change=0,g.d=!0}}catch(_){s.e(_)}finally{s.f()}for(var f=[],p=o.offset+o.length,w=function(){var b=i[d],m=r.find(function(D){return D.d&&D.cell===b});if(m){var x=e[d];x!==m.top&&(m.top=x,m.change=1),m.d=!1}else f.push(b)},d=o.offset;d<p;d++)w();for(var I=r.filter(function(_){return _.d}),k=function(){var b=E[L],m=I.find(function(D){return D.d&&D.cell.type===b.type}),x=b.i;m?(m.d=!1,m.change=2,m.cell=b,m.top=e[x]):r.push({d:!1,cell:b,visible:!0,change:2,top:e[x]})},L=0,E=f;L<E.length;L++)k();r.filter(function(_){return _.d&&-9999!==_.top}).forEach(function(_){_.change=1,_.top=-9999})}(this.virtualDom,s,this.cells,l),this.nodeRender?function(r,e,i,o){for(var s,f,l=Array.from(r.children).filter(function(L){return"TEMPLATE"!==L.tagName}),g=l.length,p=0;p<i.length;p++){var w=i[p],d=w.cell;if(2===w.change){if(p<g)e(f=l[p],d,p);else{var I=it(r,d.type);(f=null!==(s=e(I,d,p))&&void 0!==s?s:I).classList.add("virtual-item"),r.appendChild(f)}f.$ionCell=d}else f=l[p];0!==w.change&&(f.style.transform="translate3d(0,".concat(w.top,"px,0)"));var k=d.visible;w.visible!==k&&(k?f.classList.remove("virtual-loading"):f.classList.add("virtual-loading"),w.visible=k),d.reads>0&&(o(d,f),d.reads--)}}(this.el,this.nodeRender,this.virtualDom,this.updateCellHeight.bind(this)):this.domRender?this.domRender(this.virtualDom):this.renderItem&&(0,H.j)(this))}},{key:"updateCellHeight",value:function(e,i){var o=this,s=function(){if(i.$ionCell===e){var g=window.getComputedStyle(i),f=i.offsetHeight+parseFloat(g.getPropertyValue("margin-bottom"));o.setCellHeight(e,f)}};i?(0,et.c)(i,s):s()}},{key:"setCellHeight",value:function(e,i){var o=e.i;e===this.cells[o]&&(e.height!==i||!0!==e.visible)&&(e.visible=!0,e.height=i,this.indexDirty=Math.min(this.indexDirty,o),this.scheduleUpdate())}},{key:"scheduleUpdate",value:function(){var e=this;clearTimeout(this.timerUpdate),this.timerUpdate=setTimeout(function(){return e.updateVirtualScroll()},100)}},{key:"updateState",value:function(){var e=!!(this.scrollEl&&this.cells.length>0);e!==this.isEnabled&&(this.enableScrollEvents(e),e&&this.updateVirtualScroll())}},{key:"calcCells",value:function(){!this.items||(this.lastItemLen=this.items.length,this.cells=Z(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,0,0,this.lastItemLen),this.indexDirty=0)}},{key:"getHeightIndex",value:function(){return this.indexDirty!==1/0&&this.calcHeightIndex(this.indexDirty),this.heightIndex}},{key:"calcHeightIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.heightIndex=ft(this.heightIndex,this.cells.length),this.totalHeight=ct(this.heightIndex,this.cells,e),this.indexDirty=1/0}},{key:"enableScrollEvents",value:function(e){var i=this;this.rmEvent&&(this.rmEvent(),this.rmEvent=void 0);var o=this.scrollEl;o&&(this.isEnabled=e,o.addEventListener("scroll",this.onScroll),this.rmEvent=function(){o.removeEventListener("scroll",i.onScroll)})}},{key:"renderVirtualNode",value:function(e){var i=e.cell,s=i.value,l=i.index;switch(i.type){case U:return this.renderItem(s,l);case M:return this.renderHeader(s,l);case j:return this.renderFooter(s,l)}}},{key:"render",value:function(){var e=this;return(0,H.h)(H.H,{style:{height:"".concat(this.totalHeight,"px")}},this.renderItem&&(0,H.h)(pt,{dom:this.virtualDom},this.virtualDom.map(function(i){return e.renderVirtualNode(i)})))}},{key:"el",get:function(){return(0,H.i)(this)}}],[{key:"watchers",get:function(){return{itemHeight:["itemsChanged"],headerHeight:["itemsChanged"],footerHeight:["itemsChanged"],items:["itemsChanged"]}}}]),v;var r}(),pt=function(r,e,i){var o=r.dom;return i.map(e,function(s,l){var g=o[l],f=s.vattrs||{},p=f.class||"";return p+="virtual-item ",g.visible||(p+="virtual-loading"),Object.assign(Object.assign({},s),{vattrs:Object.assign(Object.assign({},f),{class:p,style:Object.assign(Object.assign({},f.style),{transform:"translate3d(0,".concat(g.top,"px,0)")})})})})};z.style="ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;-webkit-transition-duration:0ms;transition-duration:0ms;will-change:transform}"}}]);