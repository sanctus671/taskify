"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[230],{230:function(S,l,u){u.r(l),u.d(l,{SignupPageModule:function(){return O}});var c=u(3144),d=u(5671),_=u(9808),p=u(4182),m=u(1e3),t=u(4881),n=u(8433),h=u(7020),C=u(4726),P=u(8741);function M(o,g){if(1&o){var i=n.EpF();n.TgZ(0,"ion-item"),n.TgZ(1,"ion-label",10),n._uU(2,"Squad Code"),n.qZA(),n.TgZ(3,"ion-input",20),n.NdJ("ngModelChange",function(s){return n.CHM(i),n.oxw().user.squad_code=s})("ionBlur",function(){return n.CHM(i),n.oxw().checkSquadCode()}),n.qZA(),n.qZA()}if(2&o){var e=n.oxw();n.xp6(3),n.Q6J("ngModel",e.user.squad_code)}}function Z(o,g){if(1&o&&(n.TgZ(0,"p",21),n._uU(1),n.qZA()),2&o){var i=n.oxw();n.xp6(1),n.Oqu(i.user.error)}}function y(o,g){1&o&&n._UZ(0,"ion-spinner")}var f=function(g){return{"sign__form__user-types__user-type--active":g}},T=[{path:"",component:function(){var o=function(){function g(i,e,r,s){(0,d.Z)(this,g),this.authService=i,this.iab=e,this.statusBar=r,this.alertCtrl=s,this.user={email:"",password:"",error:"",loading:!1,user_type:"gamemaster"}}return(0,c.Z)(g,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.statusBar.backgroundColorByHexString("#bb55d0")}},{key:"ionViewWillLeave",value:function(){this.statusBar.backgroundColorByHexString("#000000")}},{key:"openPrivacyPolicy",value:function(){this.iab.create("http://159.223.92.46/privacypolicy.html","_system")}},{key:"checkSquadCode",value:function(){var e=this;!this.user.squad_code||this.authService.checkSquad(this.user.squad_code).then(function(){}).catch(function(r){e.alertCtrl.create({header:"Error",message:"Squad does not exist",buttons:[{text:"Dismiss",role:"cancel",handler:function(q){}}]}).then(function(a){a.present()})})}},{key:"signup",value:function(){var e=this;this.user.loading=!0,this.user.error="",this.user.password!==this.user.confirm_password&&(this.user.error="Passwords do not match."),this.authService.register(this.user).then(function(){e.user.loading=!1,e.authService.retreiveUserData().then(function(){})}).catch(function(r){if(console.log(r),e.user.loading=!1,r&&r.error&&r.error.error&&!r.error.error.errors)e.user.error=r.error.error.message;else if(r&&r.error&&r.error.error&&r.error.error.errors)for(var s in r.error.error.errors)e.user.error=e.user.error+r.error.error.errors[s]+"\n";else e.user.error="There was an error signing up."})}}]),g}();return o.\u0275fac=function(i){return new(i||o)(n.Y36(h.$),n.Y36(C.i),n.Y36(P.A),n.Y36(t.Br))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-signup"]],decls:47,vars:15,consts:[["color","primary"],["slot","start"],["defaultHref","/login"],[1,"signup"],[1,"signup__form"],[1,"sign__form__user-types"],[1,"sign__form__user-types__user-type",3,"ngClass","click"],["name","people-outline"],["name","person-outline"],[4,"ngIf"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["clearInput","","type","password",3,"ngModel","ngModelChange"],[1,"sign__form__privacy"],[3,"click"],["slot","end",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full","shape","round",1,"signup-footer__button",3,"disabled","click"],["clearInput","","type","email",3,"ngModel","ngModelChange","ionBlur"],[1,"signup__form__error"]],template:function(i,e){1&i&&(n.TgZ(0,"ion-header"),n.TgZ(1,"ion-toolbar",0),n.TgZ(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Sign up"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"ion-content",3),n.TgZ(7,"ion-list",4),n.TgZ(8,"p"),n._uU(9,"I want to sign up as"),n.qZA(),n.TgZ(10,"div",5),n.TgZ(11,"div",6),n.NdJ("click",function(){return e.user.user_type="gamemaster"}),n._UZ(12,"ion-icon",7),n.TgZ(13,"h6"),n._uU(14,"Game Master"),n.qZA(),n.qZA(),n.TgZ(15,"div",6),n.NdJ("click",function(){return e.user.user_type="player"}),n._UZ(16,"ion-icon",8),n.TgZ(17,"h6"),n._uU(18,"Player"),n.qZA(),n.qZA(),n.qZA(),n.YNc(19,M,4,1,"ion-item",9),n.TgZ(20,"ion-item"),n.TgZ(21,"ion-label",10),n._uU(22,"Email"),n.qZA(),n.TgZ(23,"ion-input",11),n.NdJ("ngModelChange",function(s){return e.user.email=s}),n.qZA(),n.qZA(),n.TgZ(24,"ion-item"),n.TgZ(25,"ion-label",10),n._uU(26,"Your Name"),n.qZA(),n.TgZ(27,"ion-input",12),n.NdJ("ngModelChange",function(s){return e.user.name=s}),n.qZA(),n.qZA(),n.TgZ(28,"ion-item"),n.TgZ(29,"ion-label",10),n._uU(30,"Password"),n.qZA(),n.TgZ(31,"ion-input",13),n.NdJ("ngModelChange",function(s){return e.user.password=s}),n.qZA(),n.qZA(),n.TgZ(32,"ion-item"),n.TgZ(33,"ion-label",10),n._uU(34,"Confirm Password"),n.qZA(),n.TgZ(35,"ion-input",13),n.NdJ("ngModelChange",function(s){return e.user.confirm_password=s}),n.qZA(),n.qZA(),n.TgZ(36,"ion-item",14),n.TgZ(37,"ion-label"),n._uU(38,"I accept the Taskify "),n.TgZ(39,"a",15),n.NdJ("click",function(){return e.openPrivacyPolicy()}),n._uU(40,"Privacy Policy"),n.qZA(),n.qZA(),n.TgZ(41,"ion-checkbox",16),n.NdJ("ngModelChange",function(s){return e.user.privacy_policy=s}),n.qZA(),n.qZA(),n.YNc(42,Z,2,1,"p",17),n.qZA(),n.qZA(),n.TgZ(43,"ion-footer",18),n.TgZ(44,"ion-button",19),n.NdJ("click",function(){return e.signup()}),n._uU(45," Get Started "),n.YNc(46,y,1,0,"ion-spinner",9),n.qZA(),n.qZA()),2&i&&(n.xp6(11),n.Q6J("ngClass",n.VKq(11,f,"gamemaster"===e.user.user_type)),n.xp6(4),n.Q6J("ngClass",n.VKq(13,f,"player"===e.user.user_type)),n.xp6(4),n.Q6J("ngIf","player"===e.user.user_type),n.xp6(4),n.Q6J("ngModel",e.user.email),n.xp6(4),n.Q6J("ngModel",e.user.name),n.xp6(4),n.Q6J("ngModel",e.user.password),n.xp6(4),n.Q6J("ngModel",e.user.confirm_password),n.xp6(6),n.Q6J("ngModel",e.user.privacy_policy),n.xp6(1),n.Q6J("ngIf",e.user.error),n.xp6(2),n.Q6J("disabled",e.user.loading||!e.user.privacy_policy),n.xp6(2),n.Q6J("ngIf",e.user.loading))},directives:[t.Gu,t.sr,t.Sm,t.oU,t.cs,t.wd,t.W2,t.q_,_.mk,t.gu,_.O5,t.Ie,t.Q$,t.pK,t.j9,p.JJ,p.On,t.nz,t.w,t.fr,t.YG,t.PQ],styles:[".signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:10px 0 0;padding:0 15px;opacity:.6;text-align:center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__user-types[_ngcontent-%COMP%]{display:flex}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__user-types[_ngcontent-%COMP%]   .sign__form__user-types__user-type[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:4px;flex:1;text-align:center;padding:20px 0;margin:10px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__user-types[_ngcontent-%COMP%]   .sign__form__user-types__user-type.sign__form__user-types__user-type--active[_ngcontent-%COMP%]{border-color:#e166fa}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__user-types[_ngcontent-%COMP%]   .sign__form__user-types__user-type[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__user-types[_ngcontent-%COMP%]   .sign__form__user-types__user-type[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 5px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center;opacity:1}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap}.signup-footer[_ngcontent-%COMP%]{background-color:#000}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),o}()}],O=function(){var o=(0,c.Z)(function g(){(0,d.Z)(this,g)});return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[_.ez,p.u5,t.Pc,m.Bz.forChild(T)]]}),o}()}}]);