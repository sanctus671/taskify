"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4205],{4205:function(y,h,a){a.r(h),a.d(h,{EditQuestPageModule:function(){return Q}});var d=a(3144),l=a(5671),f=a(9808),g=a(4182),t=a(4881),c=a(1e3),e=a(8433),Z=a(7020),q=a(4303),m=a(8741);function M(n,s){1&n&&e._UZ(0,"ion-spinner")}var C=[{path:"",component:function(){var n=function(){function s(i,o,r,u,p,T,_,E){var A=this;(0,l.Z)(this,s),this.authenticationService=i,this.questService=o,this.navController=r,this.alertCtrl=u,this.loadingController=p,this.alertController=T,this.activatedRoute=_,this.statusBar=E,this.quest={id:parseInt(this.activatedRoute.snapshot.params.id)},this.questService.getQuest(this.quest.id).then(function(b){A.quest=b})}return(0,d.Z)(s,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.statusBar.backgroundColorByHexString("#bb55d0")}},{key:"ionViewWillLeave",value:function(){this.statusBar.backgroundColorByHexString("#000000")}},{key:"update",value:function(){var o=this;this.quest.loading=!0,this.questService.updateQuest(this.quest).then(function(){o.authenticationService.retreiveUserData(),o.quest.loading=!1,o.navController.back()}).catch(function(){o.quest.loading=!1,o.alertCtrl.create({header:"Error",message:"There was an error updating this quest. Please try again.",buttons:[{text:"Dismiss",role:"cancel",handler:function(p){}}]}).then(function(u){u.present()})})}}]),s}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(Z.$),e.Y36(q.T),e.Y36(t.SH),e.Y36(t.Br),e.Y36(t.HT),e.Y36(t.Br),e.Y36(c.gz),e.Y36(m.A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-quest"]],decls:28,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/add-quests"],[1,"add-quest"],[1,"add-quest__form"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["clearInput","","type","number",3,"ngModel","ngModelChange"],[1,"add-quest__form__checkbox"],["slot","end",3,"ngModel","ngModelChange"],[1,"add-quest-footer"],["color","primary","expand","full","shape","round",1,"add-quest-footer__button",3,"disabled","click"],[4,"ngIf"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Edit Quest"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content",3),e.TgZ(7,"ion-list",4),e.TgZ(8,"ion-item"),e.TgZ(9,"ion-label",5),e._uU(10,"Quest Name"),e.qZA(),e.TgZ(11,"ion-input",6),e.NdJ("ngModelChange",function(u){return o.quest.name=u}),e.qZA(),e.qZA(),e.TgZ(12,"ion-item"),e.TgZ(13,"ion-label",5),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"ion-textarea",7),e.NdJ("ngModelChange",function(u){return o.quest.description=u}),e.qZA(),e.qZA(),e.TgZ(16,"ion-item"),e.TgZ(17,"ion-label",5),e._uU(18,"Reward (coins)"),e.qZA(),e.TgZ(19,"ion-input",8),e.NdJ("ngModelChange",function(u){return o.quest.reward=u}),e.qZA(),e.qZA(),e.TgZ(20,"ion-item",9),e.TgZ(21,"ion-label"),e._uU(22,"Recurring (i.e. can be claimed more than once)"),e.qZA(),e.TgZ(23,"ion-checkbox",10),e.NdJ("ngModelChange",function(u){return o.quest.recurring=u}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"ion-footer",11),e.TgZ(25,"ion-button",12),e.NdJ("click",function(){return o.update()}),e._uU(26," Update "),e.YNc(27,M,1,0,"ion-spinner",13),e.qZA(),e.qZA()),2&i&&(e.xp6(11),e.Q6J("ngModel",o.quest.name),e.xp6(4),e.Q6J("ngModel",o.quest.description),e.xp6(4),e.Q6J("ngModel",o.quest.reward),e.xp6(4),e.Q6J("ngModel",o.quest.recurring),e.xp6(2),e.Q6J("disabled",o.quest.loading),e.xp6(2),e.Q6J("ngIf",o.quest.loading))},directives:[t.Gu,t.sr,t.Sm,t.oU,t.cs,t.wd,t.W2,t.q_,t.Ie,t.Q$,t.pK,t.j9,g.JJ,g.On,t.g2,t.as,t.nz,t.w,t.fr,t.YG,f.O5,t.PQ],styles:[".add-quest[_ngcontent-%COMP%]   .add-quest__form__checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.add-quest[_ngcontent-%COMP%]   .add-quest__form__checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap}.add-quest-footer[_ngcontent-%COMP%]{background-color:#000}.add-quest-footer[_ngcontent-%COMP%]:before{display:none}.add-quest-footer[_ngcontent-%COMP%]   .add-quest-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()}],P=function(){var n=(0,d.Z)(function s(){(0,l.Z)(this,s)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),n}(),Q=function(){var n=(0,d.Z)(function s(){(0,l.Z)(this,s)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.ez,g.u5,t.Pc,P]]}),n}()}}]);